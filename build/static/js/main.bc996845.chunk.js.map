{"version":3,"sources":["services/persons.js","components/Person.js","components/Display.js","components/AddNewPerson.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","url","person","delete","put","Person","deletePerson","name","number","onClick","Display","props","regex","RegExp","newSearch","filter","persons","match","length","map","i","key","id","AddNewPerson","onSubmit","addPerson","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","addedNotification","setAddedNotification","errorMessage","setErrorMessage","refresh","ReactDOM","render","document","getElementById","useEffect","personService","initialPersons","event","target","preventDefault","returnPerson","confirm","some","e","find","window","catch","setTimeout","returnedPerson","concat","p","StrictMode"],"mappings":"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","file":"static/js/main.bc996845.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (url ,person) => {\r\n  const request = axios.delete(url, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst put = (url, person) => {\r\n  const request = axios.put(url, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, put}","\r\nimport React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <p>\r\n      {person.name} {' '}\r\n      {person.number} {' '}\r\n      <button onClick={deletePerson}>delete</button>\r\n      </p>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Display = (props) => {\r\n\r\n  const regex = new RegExp(`^${props.newSearch}`, 'i')\r\n  \r\n  const filter = props.persons.filter(person => \r\n    person.name.match(regex)\r\n    )\r\n  \r\n  if (props.newSearch.length === 0) {\r\n    return (\r\n      <div>\r\n      {props.persons.map((person, i) =>\r\n        <Person key={i}\r\n        person={person}\r\n        deletePerson={() => props.deletePerson(person.id)}\r\n        />\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <div>\r\n      {filter.map((person, i) =>\r\n        <Person key={i}\r\n        person={person}\r\n        deletePerson={() => props.deletePerson(person.id)}\r\n        />\r\n      )}\r\n      </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Display","import React from 'react'\r\n\r\nconst AddNewPerson = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n    <div>\r\n      name: \r\n      <input\r\n         value={props.newName} \r\n         onChange={props.handleNewName}\r\n      />\r\n    </div>\r\n    <div>\r\n      number: \r\n      <input\r\n        value={props.newNumber}\r\n        onChange={props.handleNewNumber}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default AddNewPerson","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (error !== null)\r\n  return (\r\n    <div style={errorStyle}>\r\n      <b>{error}</b>\r\n    </div>\r\n  )\r\n  else if (message !== null)\r\n    return (\r\n      <div style={notificationStyle}>\r\n        <b>{message}</b>\r\n      </div>\r\n    )\r\n  else\r\n    return null\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport Display from './components/Display'\r\nimport AddNewPerson from './components/AddNewPerson'\r\nimport ReactDOM from 'react-dom';\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [newSearch, setNewSearch] = useState('')\r\n  const [addedNotification, setAddedNotification] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState (null)\r\n\r\n  const refresh = () => {\r\n    ReactDOM.render(<App/>,\r\n    document.getElementById('root'))\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleSearch = (event) => {\r\n    setNewSearch(event.target.value)\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (event) => {\r\n     setNewNumber(event.target.value)\r\n   }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    let confirm = false\r\n    let id\r\n    let returnPerson\r\n\r\n    if (persons.some(e => e.name === person.name)) {\r\n      id = persons.find(e => e.name === person.name)\r\n      id = id.id\r\n      confirm = window.confirm(`${person.name} is already added to phone book, replace old number with a new one?`)\r\n    }\r\n    \r\n    if (!confirm && !persons.some(e => e.name === person.name)) {\r\n      \r\n      personService\r\n        .create(person) \r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setAddedNotification(`Added ${returnedPerson.name} to the phone book`)\r\n          setTimeout(() => {\r\n            setAddedNotification(null)\r\n          }, 3000)\r\n        })\r\n\r\n    } else if (confirm) {\r\n      const url = `http://localhost:3001/api/persons/${id}`\r\n      returnPerson = persons.find(e => e.id === id)\r\n      personService\r\n        .put(url, person)\r\n        .then(\r\n        personService\r\n          .getAll()\r\n          .then(persons => {\r\n            setPersons(persons)\r\n            setAddedNotification(`Changed ${returnPerson.name}'s number`)\r\n          }\r\n          )\r\n        )\r\n        .catch(error => {\r\n          setErrorMessage(`Information of ${returnPerson.name} has already been removed from the server`)\r\n        })\r\n      \r\n      setTimeout(() => {\r\n        setAddedNotification(null)\r\n        setErrorMessage(null)\r\n        refresh()\r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const url = `http://localhost:3001/api/persons/${id}`\r\n    const person = persons.find(p => p.id === id)\r\n    const returnPerson = person\r\n    const proceed = window.confirm(`Delete ${person.name} ?`)\r\n    if (proceed) {\r\n      personService\r\n        .remove(url, person)\r\n        .then(\r\n          personService\r\n            .getAll()\r\n            .then(persons => {\r\n              setPersons(persons)\r\n            })\r\n        )\r\n    }\r\n\r\n    setAddedNotification(`Removed ${returnPerson.name} from the phone book`)\r\n    setTimeout(() => {\r\n      setAddedNotification(null)\r\n      refresh()\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phone Book</h2>\r\n      <Notification message={addedNotification} error={errorMessage}/>\r\n      filter shown with\r\n      <input\r\n        value={newSearch}\r\n        onChange={handleSearch}\r\n      />\r\n      <h2>add a new</h2>\r\n      <AddNewPerson\r\n      addPerson={addPerson}\r\n      newName={newName}\r\n      handleNewName={handleNewName}\r\n      newNumber={newNumber}\r\n      handleNewNumber={handleNewNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Display persons={persons} newSearch={newSearch} deletePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}